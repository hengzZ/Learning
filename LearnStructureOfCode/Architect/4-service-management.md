### Part IV —— 服务治理

#### 48. 服务治理的宏观视角

##### 48.1 服务治理的目标

把软件开发出来交付给用户就是其工作的结束？ NO.
###### 对一个产品或者产品里面的某项功能来说，把东西开发出来只是个开始！ 后面是无尽的迭代和维护。

服务治理的核心目标，除了常规的软件治理外，更重要的是考虑如何确保这些软件能够真正做到 24 小时不间断的服务。

###### 思考： 产品的生命周期
```
对于一款产品，其开发是短暂的。
# 开发出来只是个开始，后面需要面临的是： 被取代（淘汰） or 很长一段时间的维护期。
```

##### 48.2 成本到底多少？
虽然功能开发阶段的成本是非常显性的，但是功能维护期，包括了功能迭代和售后维保，它的隐性成本往往更高。

产品的功能开发期虽然有可能很短（产品可能很简单），但它只是起点，是源头。
公司/产品的每一分每一秒时间是怎么度过，很大程度上决定了这个产品或功能的最终维护代价。

##### 48.3 功能开发与维护的边界
开发与维护（经营/运营）的边界变得模糊，一些公司甚至每天都在发布新的版本。

##### 48.4 服务治理系统
从服务治理角度，面对的第一件事情，是如何把它发布出去。
* 这就涉及部署、升级和版本管理等相关的话题。

软件在线上成功地跑了起来，接着面临的就是，怎么保证它不会挂掉。
* 首先，怎么知道服务是不是挂了，这就涉及监控与报警。
* 理想情况下我们应该尽可能自动化所有故障的恢复，但故障的可能性太多，这意味着人工介入无可避免。

一个服务治理系统看起来是这样的：
<div align="center"><img src="pics/service-maintenance-system.png" width="40%"></div>

服务治理不是纯理论，没有简洁的抽象问题模型，它面对的是现实世界的复杂性。 这些现实的复杂性，必然带来解决方案的复杂性。

#### 49. 事务与工程： 什么是工程师思维？

##### 49.1 事务与工程
``事务性的工作并不会总是让人不开心，特别是工作不太多的时候。``

``已知的、重复性的工作有一种让人平静的功效。 完成这些事可以带来一种满足感和快速胜利感。``

一定数量的事务工作是不可避免的，因为这是任何工程类工作都具有的特点。

但是，一旦事务数量变多，你就需要小心警惕，这意味着你的职业发展会变慢，甚至停滞。

###### 我们可以鼓励那些做脏活累活的人，但仅仅限于在这些工作不可避免，并有巨大的正面影响的时候。 但是，*没有人可以通过不停地做脏活累活实现自己的职业发展。*

##### 49.2 什么是工程师思维？
警惕错误的惯性思维 ``销售和产品经理觉得自己没有话语权，开发工程师觉得自己的地位高人一等。``

所有的健康公司都必然是业务导向的公司。

##### 什么才是真正的工程师文化？
* 从浅层的意义来说，工程师就是要实现业务的自动化。
* 工程师的自动化思维，其内在逻辑是如何把问题彻底解决掉，而编码只是一种工具。

在我们日常生活中，很多问题不需要编码来解决。 但是需要工程师的思维。

##### 什么才是合格的工程师？
* 很多人会习惯呆在自己的舒适区，习惯于做任务，每天重复相同的作业，这很不符合 “工程师文化”。
* 合格的工程师，需要达到的状态是： 今天干完一件事，明天开启新的事。

怎么判断自己在做新的事情？ ``那就要看我们问题是否解决得够彻底。``

要回答这个问题，我们首先需要搞清楚的是，我们每天是在解决一个什么样的问题。

###### 我们的目标显然不应该是每天发一篇文章。 这是在定义一件事务，而不是定义一个目标。

作为一个工程师，把问题彻底解决掉的思维，看重的是自己工作内容的长期价值。

##### 所以本质上，工程师文化也是产品文化。

###### 工程师，工程师精神，并不是某个特殊群体。 一个公司各个岗位是彼此协作的团队，销售、技术支持、产品、开发工程师每一个角色都是平等的。 每个人都应该秉承工程师精神。

##### ``不需要显得很忙，忙不代表成就。``

##### 49.3 系统化思维与批判精神
仅仅是编码和自动化是不够的，很可能你编码也只是在实现某种事务性工作。

工程的精髓是 ``用系统性或者说结构化的方案来解决问题。``

真正的工程师会系统化地考虑方案的有效性。

##### 编码的批判性思维
一些人可能会在你删除多余代码时提出抗议： “如果我们以后需要这个代码怎么办？”
``源代码管理系统中的回滚其实很容易。``  大量的注释代码，以及由于功能开关没有启用而没有被执行的代码，更是像一个个定时炸弹一样等待爆炸。

极端地说，当你指望一个软件 24 小时不间断服务时，在某种程度上来说每一行代码都是负担。

##### 49.4 什么是现实
现实的复杂性，背后是大量的事务工作，尤其是我们对问题还不够了解的时候。
